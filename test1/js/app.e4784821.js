(function(t){function e(e){for(var a,o,s=e[0],i=e[1],u=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(f.length)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(a=!1)}a&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},c=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0136":function(t,e,n){"use strict";var a=n("40f4"),r=n.n(a);r.a},"0211":function(t,e,n){"use strict";var a=n("9ecc"),r=n.n(a);r.a},"0279":function(t,e,n){},"0617":function(t,e,n){"use strict";var a=n("a99e"),r=n.n(a);r.a},"0993":function(t,e,n){},"294f":function(t,e,n){},"2f2b":function(t,e,n){},"34ae":function(t,e,n){"use strict";var a=n("b5f6"),r=n.n(a);r.a},"3b18":function(t,e,n){"use strict";var a=n("d6cb"),r=n.n(a);r.a},"3b24":function(t,e,n){},"40f4":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"728c":function(t,e,n){"use strict";var a=n("9adb"),r=n.n(a);r.a},"8cf1":function(t,e,n){"use strict";var a=n("ca63"),r=n.n(a);r.a},"8f9b":function(t,e,n){t.exports=n.p+"img/book-open.555e3a34.png"},9906:function(t,e,n){t.exports=n.p+"img/combinationA.53ccea3d.svg"},"9adb":function(t,e,n){},"9c0c":function(t,e,n){},"9ecc":function(t,e,n){},a99e:function(t,e,n){},ae99:function(t,e,n){},b5b6:function(t,e,n){"use strict";var a=n("2f2b"),r=n.n(a);r.a},b5f6:function(t,e,n){},b6fd:function(t,e,n){"use strict";var a=n("3b24"),r=n.n(a);r.a},c513:function(t,e,n){t.exports=n.p+"img/combinationB.cade8e81.svg"},c714:function(t,e,n){t.exports=n.p+"img/book-closed.804330e6.jpg"},ca63:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("15f5"),n("7051");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.game?n("GameVue",{attrs:{game:t.game}}):n("IntroVue",{on:{start:t.startGame}},[n("button",{staticClass:"button",on:{click:t.tests}},[t._v("Tests")])])],1)},c=[],o=n("d4ec"),s=n("bee2"),i=n("262e"),u=n("2caf"),l=n("9ab4"),d=n("60a3"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"game"}},[n("TopbarVue",{attrs:{game:t.game}}),t.game.current_room?n("RoomVue",{attrs:{room:t.game.current_room}}):t._e(),n("ButtonsVue",{attrs:{game:t.game}})],1)},h=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topbar"},[t._v(" Estás en "+t._s(t.game.current_room.name)+" ")])},p=[],v=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return n}(d["c"]);Object(l["a"])([Object(d["b"])()],v.prototype,"game",void 0),v=Object(l["a"])([d["a"]],v);var m=v,O=m,j=(n("728c"),n("2877")),y=Object(j["a"])(O,b,p,!1,null,"63c351b1",null),g=y.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"room"},[n("div",[n("div",{staticClass:"container"},[n("h2",{staticClass:"title"},[t._v(" "+t._s(t.room.name)+" ")]),t._l(t.room.content,(function(e,a){return["text"===e.type?n("p",{key:t.room.name+a,domProps:{innerHTML:t._s(e.text)}}):t._e(),"image"===e.type?n("div",{key:t.room.name+a},[n("ImageVue",{attrs:{image:e.image}})],1):t._e(),"puzzle"===e.type?n("div",{key:t.room.name+a},[n("PuzzleVue",{attrs:{puzzle:e.puzzle}})],1):t._e()]}))],2)])])},k=[],C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"image"},[t.image.url_prev?n("img",{attrs:{src:t.image.url_prev}}):n("img",{attrs:{src:t.image.url}}),t.image.zoom?[n("button",{staticClass:"button",on:{click:function(e){t.modal=!0}}},[t._m(0)]),t.modal?n("ImageViewerVue",{attrs:{image:t.image.url},on:{close:function(e){t.modal=!1}}}):t._e()]:t._e()],2)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-search"})])}],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image-viewer"},[n("ModalVue",{on:{close:t.close}},[n("div",{directives:[{name:"viewer",rawName:"v-viewer",value:t.vvconfig,expression:"vvconfig"}],staticClass:"v-viewer"},t._l(t.images,(function(t){return n("img",{key:t,attrs:{src:t}})})),0),n("div",{staticClass:"toolbar buttons is-centered"},[n("button",{staticClass:"button",on:{click:t.zoomInc}},[n("i",{staticClass:"fas fa-plus"})]),n("button",{staticClass:"button",on:{click:t.zoomDec}},[n("i",{staticClass:"fas fa-minus"})]),n("button",{staticClass:"button",on:{click:t.rotateL}},[n("i",{staticClass:"fas fa-undo-alt"})]),n("button",{staticClass:"button",on:{click:t.rotateR}},[n("i",{staticClass:"fas fa-redo-alt"})])])])],1)},E=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:t.close}}),n("div",{staticClass:"modal-content"},[t._t("default")],2),t.closeable?n("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:t.close}}):t._e()])},R=[],N=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.closeable&&this.$emit("close")}}]),n}(d["c"]);Object(l["a"])([Object(d["b"])({default:!0})],N.prototype,"closeable",void 0),N=Object(l["a"])([Object(d["a"])({components:{}})],N);var T=N,V=T,A=(n("b6fd"),Object(j["a"])(V,z,R,!1,null,"34fd616f",null)),$=A.exports,I=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.vvconfig={inline:!0,button:!1,navbar:!1,title:!1,toolbar:!1,tooltip:!1,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!1,keyboard:!1,url:"data-source"},t}return Object(s["a"])(n,[{key:"zoomInc",value:function(){this.viewer.zoom(.1)}},{key:"zoomDec",value:function(){this.viewer.zoom(-.1)}},{key:"rotateL",value:function(){this.viewer.rotate(-45)}},{key:"rotateR",value:function(){this.viewer.rotate(45)}},{key:"close",value:function(){this.$emit("close")}},{key:"images",get:function(){return Array.isArray(this.image)?this.image:[this.image]}},{key:"viewer",get:function(){var t=this.$el.querySelector(".v-viewer");return t.$viewer}}]),n}(d["c"]);Object(l["a"])([Object(d["b"])()],I.prototype,"image",void 0),I=Object(l["a"])([Object(d["a"])({components:{ModalVue:$}})],I);var M=I,B=M,P=(n("8cf1"),Object(j["a"])(B,x,E,!1,null,"ca508976",null)),D=P.exports,G=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.modal=!1,t}return n}(d["c"]);Object(l["a"])([Object(d["b"])()],G.prototype,"image",void 0),G=Object(l["a"])([Object(d["a"])({components:{ImageViewerVue:D}})],G);var S=G,H=S,L=(n("e921"),Object(j["a"])(H,C,w,!1,null,"760b9d2a",null)),W=L.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"puzzle"},[t.puzzle.solved?n("div",{staticClass:"solved"},[t._v(" Resuelto ")]):t._e(),"combination"===t.puzzle.type?n("div",[n("CombinationLockVue",{attrs:{code:t.puzzle.config.code,tolerance:t.puzzle.config.tolerance},on:{success:t.success}})],1):"keypad"===t.puzzle.type?n("div",[n("KeypadVue",{attrs:{layout:t.puzzle.config.layout,code:t.puzzle.config.code,font:t.puzzle.config.font},on:{success:t.success}})],1):"wirecut"===t.puzzle.type?n("div",[n("WirecutVue",{attrs:{layout:t.puzzle.config.layout,code:t.puzzle.config.code},on:{success:t.success}})],1):n("div",[t._v(" Unsuppored puzzle "+t._s(t.puzzle.type)+" ")])])},K=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"keypad"},[n("div",{staticClass:"leds"},t._l(t.leds,(function(t,e){return n("div",{key:e,staticClass:"led",class:t})})),0),n("div",{staticClass:"keypad-btns",style:t.btnsStyle},[t._l(t.layout,(function(e,a){return t._l(e,(function(e,r){return n("div",{key:a+"-"+r,staticClass:"hole"},[e?n("div",{staticClass:"btn",on:{click:function(n){return t.press(e)}}},[n("span","clear"===e?[n("i",{staticClass:"far fa-trash-alt"})]:[t._v(t._s(e))])]):t._e()])}))}))],2)])},q=[],Q=(n("cb29"),n("4160"),n("d81d"),n("159b"),n("96cf"),n("1da1"));n("d3b7");function Y(t){return new Promise((function(e){return setTimeout(e,t)}))}var F=function(){return[["1","2","3"],["4","5","6"],["7","8","9"],["","0","clear"]]},J=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.current="",t.enabled=!0,t.leds=[],t}return Object(s["a"])(n,[{key:"mounted",value:function(){this.leds=Array(this.code.length).fill(null).map((function(t){return{active:!1,success:!1,error:!1}}))}},{key:"press",value:function(t){if(this.enabled)if("clear"!==t){var e=t.substring(0,1),n=this.current.length;this.current+=e,this.leds[n].active=!0,this.current.length===this.code.length&&(this.code!==this.current?this.show_error():this.show_success())}else this.clear()}},{key:"clear",value:function(){this.current="",this.leds.forEach((function(t){return t.active=!1}))}},{key:"show_error",value:function(){var t=Object(Q["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.enabled=!1,this.leds.forEach((function(t){return t.active=!1})),e=0;case 3:if(!(e<3)){t.next=13;break}return this.leds.forEach((function(t){return t.error=!0})),t.next=7,Y(200);case 7:return this.leds.forEach((function(t){return t.error=!1})),t.next=10,Y(100);case 10:e++,t.next=3;break;case 13:this.clear(),this.enabled=!0;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"show_success",value:function(){var t=Object(Q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.enabled=!1,this.leds.forEach((function(t){return t.active=!1})),this.leds.forEach((function(t){return t.success=!0})),this.$emit("success");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"btnsStyle",get:function(){var t="grid-template-columns: repeat(".concat(this.layout[0].length,", 55px);");return this.font&&(t+="font-family: '".concat(this.font,"';")),t}}]),n}(d["c"]);Object(l["a"])([Object(d["b"])({default:F})],J.prototype,"layout",void 0),Object(l["a"])([Object(d["b"])({default:"123"})],J.prototype,"code",void 0),Object(l["a"])([Object(d["b"])({default:""})],J.prototype,"font",void 0),J=Object(l["a"])([Object(d["a"])({components:{}})],J);var X=J,tt=X,et=(n("0136"),Object(j["a"])(tt,U,q,!1,null,"097edd8e",null)),nt=et.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lock"},[a("img",{staticClass:"shackle",class:{open:t.open},attrs:{src:n("c513")}}),a("img",{attrs:{src:n("9906")}}),a("div",{ref:"dial",staticClass:"dial",class:{enabled:t.enabled}},[t._l(t.numbers,(function(e,n){return a("div",{key:"num"+e,staticClass:"lock-num",style:"transform: rotate("+360*n/t.numbers.length+"deg);"},[t._v(" "+t._s(e)+" ")])})),t._l(t.max,(function(e){return a("div",{key:"mark"+e,staticClass:"lock-mark",class:{step:e%t.step===0},style:"transform: rotate("+360*e/t.max+"deg);"},[a("div")])}))],2),t.open?t._e():a("button",{staticClass:"button reset",on:{click:t.reset}},[t._m(0)])])},rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-undo-alt"})])}],ct=(n("ac1f"),n("1276"),n("70ea"),function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.max=30,t.step=5,t.numbers=[],t.current=0,t.direction=1,t.current_code=[0],t.enabled=!0,t.open=!1,t}return Object(s["a"])(n,[{key:"mounted",value:function(){var t=0;do{this.numbers.push(t),t+=this.step}while(t<this.max);this.propeller=new window.Propeller(this.$refs.dial,{inertia:.5,step:360/this.max,onRotate:this.onRotate,stepTransitionTime:100})}},{key:"angle",value:function(){if(!this.propeller)return 0;var t=100*(this.propeller.angle+360);return t%=36e3,t/=100,t}},{key:"onRotate",value:function(){this.current=(360-this.angle())*this.max/360}},{key:"onChange",value:function(){if(this.enabled){var t=this.current_code.pop();(this.current-t)*this.direction>0||(this.direction*=-1,this.current_code.push(t)),this.current_code.push(this.current);var e=this.code.split("-").map((function(t){return+t}));while(this.current_code.length>e.length)this.current_code.shift();if(this.current_code.length===e.length){for(var n=!0,a=-1,r=0;r<e.length;r++){a*=-1;for(var c=!1,o=0;o<=this.tolerance;o++)e[r]===this.current_code[r]-o*a&&(c=!0);if(!c){n=!1;break}}n&&this.show_success()}}}},{key:"show_success",value:function(){var t=Object(Q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.open=!0,t.next=3,Y(1e3);case 3:return this.enabled=!1,t.next=6,Y(2e3);case 6:this.$emit("success");case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"onChangeEnabled",value:function(){this.enabled?this.propeller.bind():this.propeller.unbind()}},{key:"reset",value:function(){var t=Object(Q["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.enabled){t.next=2;break}return t.abrupt("return");case 2:this.enabled=!1;case 3:if(!(Math.abs(this.angle())>=1)){t.next=12;break}return e=this.current<this.max/2?this.current:this.current-this.max,n=e<0?-5:5,Math.abs(e)>10&&(n*=2),this.propeller.speed=n,t.next=10,Y(100);case 10:t.next=3;break;case 12:this.propeller.stop(),this.enabled=!0;case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(d["c"]));Object(l["a"])([Object(d["b"])({default:"10-5-15"})],ct.prototype,"code",void 0),Object(l["a"])([Object(d["b"])({default:1})],ct.prototype,"tolerance",void 0),Object(l["a"])([Object(d["d"])("current")],ct.prototype,"onChange",null),Object(l["a"])([Object(d["d"])("enabled")],ct.prototype,"onChangeEnabled",null),ct=Object(l["a"])([Object(d["a"])({components:{}})],ct);var ot=ct,st=ot,it=(n("0617"),Object(j["a"])(st,at,rt,!1,null,"7b1c8ea8",null)),ut=it.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wirecut"},[n("div",{staticClass:"leds"},[n("div",{staticClass:"led",class:t.led1}),n("div",{staticClass:"led",class:t.led2})]),n("div",{staticClass:"content"},[n("svg",{attrs:{height:t.CONTENT_HEIGHT,width:t.CONTENT_WIDTH}},[t._l(t.wires,(function(e,a){return[e.cut?n("g",{key:"c"+a,staticClass:"cuts"},[n("path",{attrs:{d:e.cutA,stroke:e.color}}),n("path",{attrs:{d:e.cutB,stroke:e.color}})]):t._e()]})),t._l(t.wires,(function(e,a){return[e.cut?t._e():n("g",{key:"w"+a,staticClass:"wires",on:{click:function(e){return t.cutWire(a)}}},[n("path",{staticClass:"hover",attrs:{d:e.path}}),n("path",{attrs:{d:e.path,stroke:e.color}})])]}))],2),n("div",{staticClass:"sideA"},[t._l(t.layout.connectorsA,(function(t,e){return[n("div",{key:e,staticClass:"connector",class:{hidden:!t}})]}))],2),n("div",{staticClass:"space"}),n("div",{staticClass:"sideB"},[t._l(t.layout.connectorsB,(function(t,e){return[n("div",{key:e,staticClass:"connector",class:{hidden:!t}})]}))],2)])])},dt=[];n("99af");function ft(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123;t%=2147483647;var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t=16807*t%2147483647;var a=(t-1)/2147483646;if(e>n){var r=[n,e];e=r[0],n=r[1]}return a*(n-e)+e};return e}var ht=function(){return{connectorsA:["A","B","C",null,"D"],connectorsB:["E","F","G"],wires:[{ini:"A",end:1,color:"#4254f5"},{ini:1,end:0,color:"#f54242"},{ini:"D",end:2,color:"#42f55a"}],seed:2}},bt=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.current_code="",t.CONNECTOR_SIZE=20,t.CONNECTOR_MARGIN=30,t.CONTENT_WIDTH=300,t.enabled=!0,t.wires=[],t.led1={on:!0},t.led2={on:!1},t}return Object(s["a"])(n,[{key:"getConnectorIdx",value:function(t){if("string"!==typeof t)return t;for(var e=0;e<this.layout.connectorsA.length;e++)if(this.layout.connectorsA[e]===t)return e;for(var n=0;n<this.layout.connectorsB.length;n++)if(this.layout.connectorsB[n]===t)return n;return-1}},{key:"mounted",value:function(){var t=this;this.ledsUpdate();var e=ft(this.layout.seed);this.wires=this.layout.wires.map((function(n){var a=function(e){return(t.CONNECTOR_SIZE+t.CONNECTOR_MARGIN)*e+t.CONNECTOR_MARGIN+t.CONNECTOR_SIZE/2},r=function(e){return t.CONNECTOR_SIZE/2+t.CONNECTOR_MARGIN+(t.CONTENT_WIDTH-t.CONNECTOR_SIZE-2*t.CONNECTOR_MARGIN)*e},c=t.getConnectorIdx(n.ini),o=t.getConnectorIdx(n.end),s=Math.min(c,o),i=Math.max(c,o),u=r(0)+" "+a(c),l=r(e(.2,.8))+" "+a(e(s-1,i+1)),d=r(1)+" "+a(o),f="M ".concat(u," Q ").concat(l," ").concat(d),h=r(e(.2,.8)),b=a(e(s,i)),p=e(r(0)+10,h-25)+" "+a(e(s,i)),v=e(h+25,r(1)-10)+" "+a(e(s,i)),m="M ".concat(u," Q ").concat(p," ").concat(h-20," ").concat(b),O="M ".concat(d," Q ").concat(v," ").concat(h+20," ").concat(b);return{path:f,cut:!1,cutA:m,cutB:O,color:n.color}}))}},{key:"ledsUpdate",value:function(){var t=Object(Q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.enabled){t.next=9;break}return t.next=3,Y(500);case 3:if(this.enabled){t.next=5;break}return t.abrupt("return");case 5:this.led1.on=!this.led1.on,this.led2.on=!this.led2.on,t.next=0;break;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cutWire",value:function(t){if(this.current_code+=t,console.log(this.current_code),this.wires[t].cut=!0,this.code===this.current_code)return this.led1.on=!1,this.led2.on=!1,this.enabled=!1,void this.$emit("success");for(var e=!0,n=0;n<this.current_code.length;n++)this.code[n]!==this.current_code[n]&&(e=!1);e||this.show_failure()}},{key:"show_failure",value:function(){var t=Object(Q["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.enabled=!1,this.led1.on=!0,this.led2.on=!0,e=200;case 4:if(!(e>20)){t.next=12;break}return t.next=7,Y(e);case 7:this.led1.on=!this.led1.on,this.led2.on=!this.led2.on;case 9:e-=10,t.next=4;break;case 12:this.led1.on=!0,this.led2.on=!0,this.$emit("failure");case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"CONTENT_HEIGHT",get:function(){var t=Math.max(this.layout.connectorsA.length,this.layout.connectorsB.length);return(this.CONNECTOR_MARGIN+this.CONNECTOR_SIZE)*t+this.CONNECTOR_MARGIN}}]),n}(d["c"]);Object(l["a"])([Object(d["b"])({default:ht})],bt.prototype,"layout",void 0),Object(l["a"])([Object(d["b"])({default:"012"})],bt.prototype,"code",void 0),bt=Object(l["a"])([Object(d["a"])({components:{}})],bt);var pt=bt,vt=pt,mt=(n("34ae"),Object(j["a"])(vt,lt,dt,!1,null,"585d8b9d",null)),Ot=mt.exports,jt=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){}},{key:"success",value:function(){this.puzzle.solve()}}]),n}(d["c"]);Object(l["a"])([Object(d["b"])()],jt.prototype,"puzzle",void 0),jt=Object(l["a"])([Object(d["a"])({components:{KeypadVue:nt,CombinationLockVue:ut,WirecutVue:Ot}})],jt);var yt=jt,gt=yt,_t=(n("f982"),Object(j["a"])(gt,Z,K,!1,null,"7e1777fb",null)),kt=_t.exports,Ct=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return n}(d["c"]);Object(l["a"])([Object(d["b"])()],Ct.prototype,"room",void 0),Ct=Object(l["a"])([Object(d["a"])({components:{ImageVue:W,PuzzleVue:kt}})],Ct);var wt=Ct,xt=wt,Et=(n("0211"),Object(j["a"])(xt,_,k,!1,null,"7dbe613a",null)),zt=Et.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"buttons-bar"},[n("div",{staticClass:"buttons has-addons is-centered"},[n("div",[n("button",{staticClass:"button",on:{click:function(e){t.show_rooms=!t.show_rooms}}},[t._m(0),n("span",[t._v(" Lugares ")])]),t.show_rooms?n("PopoverVue",{on:{close:function(e){t.show_rooms=!1}}},[n("RoomListVue",{attrs:{game:t.game},on:{change:function(e){t.show_rooms=!1}}})],1):t._e()],1)])])},Nt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"icon"},[n("i",{staticClass:"far fa-map"})])}],Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticClass:"title"},[t._v("Lugares")]),n("ul",[t._l(t.game.rooms,(function(e){return["open"===e.status?n("li",{key:e.name},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.changeRoom(e)}}},[t._v(t._s(e.name))]),e.name===t.game.current_room.name?n("span",[t._v(" <--- Estás aquí ")]):t._e()]):t._e()]}))],2)])},Vt=[],At=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"changeRoom",value:function(t){this.game.changeRoom(t),this.$emit("change")}}]),n}(d["c"]);Object(l["a"])([Object(d["b"])()],At.prototype,"game",void 0),At=Object(l["a"])([Object(d["a"])({components:{}})],At);var $t=At,It=$t,Mt=Object(j["a"])(It,Tt,Vt,!1,null,"6b46f680",null),Bt=Mt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popover"},[n("div",{staticClass:"popover-arrow"}),n("div",{staticClass:"popover-background",on:{click:t.close}}),n("div",{staticClass:"popover-content"},[t._t("default")],2)])},Dt=[],Gt=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.$emit("close")}}]),n}(d["c"]);Gt=Object(l["a"])([Object(d["a"])({components:{}})],Gt);var St=Gt,Ht=St,Lt=(n("b5b6"),Object(j["a"])(Ht,Pt,Dt,!1,null,"2d142ef2",null)),Wt=Lt.exports,Zt=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.show_rooms=!1,t.show_inventory=!1,t}return n}(d["c"]);Object(l["a"])([Object(d["b"])()],Zt.prototype,"game",void 0),Zt=Object(l["a"])([Object(d["a"])({components:{RoomListVue:Bt,ModalVue:$,PopoverVue:Wt}})],Zt);var Kt=Zt,Ut=Kt,qt=(n("3b18"),Object(j["a"])(Ut,Rt,Nt,!1,null,"7020d427",null)),Qt=qt.exports,Yt=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return n}(d["c"]);Object(l["a"])([Object(d["b"])()],Yt.prototype,"game",void 0),Yt=Object(l["a"])([Object(d["a"])({components:{TopbarVue:g,RoomVue:zt,ButtonsVue:Qt}})],Yt);var Ft=Yt,Jt=Ft,Xt=(n("d748"),Object(j["a"])(Jt,f,h,!1,null,"056b120e",null)),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"title is-1"},[t._v("Escape")]),n("h2",{staticClass:"subtitle"},[t._v(" A escape room online ")]),n("button",{staticClass:"button",on:{click:t.start}},[t._v("Empezar")]),t._t("default")],2)])},ne=[],ae=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){return Object(o["a"])(this,n),e.apply(this,arguments)}return Object(s["a"])(n,[{key:"start",value:function(){this.$emit("start")}}]),n}(d["c"]);ae=Object(l["a"])([d["a"]],ae);var re=ae,ce=re,oe=Object(j["a"])(ce,ee,ne,!1,null,"aca956fc",null),se=oe.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"puzzle-test"},[n("div",[n("h1",[t._v("Tests")]),n("div",[n("WirecutVue")],1),n("div",[n("CombinationLockVue")],1),n("div",[n("KeypadVue")],1),n("div",[n("KeypadVue",{attrs:{layout:t.keypad2_layout,code:"ABCD"}})],1),n("div",[n("KeypadVue",{attrs:{layout:t.keypad2_layout,code:"ABCD",font:"wizardspeak"}})],1)])])},ue=[],le=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.keypad2_layout=[["A","B","C","D","E"],["X","Y","Z","","clear"]],t}return Object(s["a"])(n,[{key:"mounted",value:function(){}}]),n}(d["c"]);le=Object(l["a"])([Object(d["a"])({components:{KeypadVue:nt,CombinationLockVue:ut,WirecutVue:Ot}})],le);var de=le,fe=de,he=(n("d991"),Object(j["a"])(fe,ie,ue,!1,null,"749ea99a",null)),be=he.exports,pe=(n("498a"),n("b0c0"),function(){function t(e,n){Object(o["a"])(this,t),this.actions=[],this.solved=!1,this.type=e,this.config=n}return Object(s["a"])(t,[{key:"add",value:function(t){this.actions.push(t)}},{key:"solve",value:function(){this.solved=!0,this.actions.forEach((function(t){return t.run()}))}}]),t}()),ve=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(o["a"])(this,t),this.zoom=!1,this.url=e,this.url_prev=n},me=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";Object(o["a"])(this,t),this.type=e},Oe=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(t){var a;return Object(o["a"])(this,n),a=e.call(this,"text"),a.text=t,a}return n}(me),je=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(t){var a;return Object(o["a"])(this,n),a=e.call(this,"puzzle"),a.puzzle=t,a}return n}(me),ye=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(t){var a;return Object(o["a"])(this,n),a=e.call(this,"image"),a.image=t,a}return n}(me),ge=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"closed";Object(o["a"])(this,t),this.content=[],this.name=e,this.status=n}return Object(s["a"])(t,[{key:"add",value:function(t){"string"!==typeof t?t instanceof pe?this.content.push(new je(t)):t instanceof ve&&this.content.push(new ye(t)):this.content.push(new Oe(t))}}]),t}(),_e=function(){function t(){Object(o["a"])(this,t),this.rooms=[],this.current_room=null}return Object(s["a"])(t,[{key:"add",value:function(t){if(t instanceof ge)return this.current_room||(this.current_room=t),void this.rooms.push(t)}},{key:"changeRoom",value:function(t){this.current_room=t}}]),t}(),ke=function(){function t(e,n){Object(o["a"])(this,t),this.room=e,this.action=n}return Object(s["a"])(t,[{key:"run",value:function(){switch(console.log(this.action),console.log(this.room),this.action){case"open":this.room.status="open";break}}}]),t}(),Ce=function(){function t(e){Object(o["a"])(this,t),this.text=e}return Object(s["a"])(t,[{key:"run",value:function(){window.alert(this.text)}}]),t}();function we(){var t=new _e,e=new ve(n("8f9b"),n("c714"));e.zoom=!0;var a=new ge("Vestíbulo","open");a.add("\n    Estás en el vestíbulo. Ante tí hay una puerta, posas tu mano en el pomo\n    pensando que intrincados acertijos deberás resolver cuando de pronto\n    te das cuenta que la puerta ya está abierta.\n    Un poco decepcionado prosigues con tu aventura.\n    "),a.add("\n    Utiliza el menú de lugares para moverte entre localizaciones.\n    ");var r=new ge("Salón","open"),c=new ge("Habitación final");r.add("\n        Estás en el salón, una habitación sin ninǵun tipo de mobiliario.\n        En el suelo pareces distinguir un libro.\n        Además hay una puerta con un candado numérico que te impide el paso\n        a la habitación final.\n    "),r.add(e);var o=new pe("combination",{code:"10-5-15"}),s=new ke(c,"open");return o.add(s),o.add(new Ce("\n        Muy bien, tus habilidades investigadores superiores te han permitido solucionar la prueba.\n        Ahora puedes entrar en la habitación final.\n        \n    ".trim())),r.add(o),a.add(o),c.add("Triunfante entras en la habitación final. Has ganado."),t.add(a),t.add(r),t.add(c),t}function xe(){var t=new _e,e=new ve(n("8f9b"),n("c714"));e.zoom=!0;var a=new ge("Habitación de tests","open");a.add("\n    Estás en al habitación de test. Esta página solo sirve para probar los\n    elementos del juego.\n    "),a.add("\n    Utiliza el menú de lugares para moverte entre localizaciones.\n    También hay un libro:\n    "),a.add(e),a.add("\n    Y unos cuantos cacharros:\n    "),a.add("El primero es un candado con combinación 10-5-15");var r=new pe("combination",{code:"10-5-15"});a.add(r),a.add("El segundo es un dispositivo electrónico con extraños símbolos. No sabes la combinación pero pulsar los 4 primos números puede ser una buena opción");var c=new pe("keypad",{code:"ABCD",layout:[["A","B","C","D","E"],["X","Y","Z","","clear"]],font:"wizardspeak"});a.add(c),a.add("Por último, hay una panel eléctrico con unos cables sueltos");var o=new pe("wirecut",{code:"012",layout:{connectorsA:["A","B","C",null,"D"],connectorsB:["E","F","G"],wires:[{ini:"A",end:1,color:"#4254f5"},{ini:1,end:0,color:"#f54242"},{ini:"D",end:2,color:"#42f55a"}],seed:2}});return a.add(o),t.add(a),t}var Ee=function(t){Object(i["a"])(n,t);var e=Object(u["a"])(n);function n(){var t;return Object(o["a"])(this,n),t=e.apply(this,arguments),t.game=null,t}return Object(s["a"])(n,[{key:"mounted",value:function(){}},{key:"startGame",value:function(){this.game=we()}},{key:"tests",value:function(){this.game=xe()}}]),n}(d["c"]);Ee=Object(l["a"])([Object(d["a"])({components:{GameVue:te,IntroVue:se,PuzzleTestVue:be}})],Ee);var ze=Ee,Re=ze,Ne=(n("5c0b"),Object(j["a"])(Re,r,c,!1,null,null,null)),Te=Ne.exports,Ve=(n("0808"),n("6944")),Ae=n.n(Ve);a["a"].use(Ae.a),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(Te)}}).$mount("#app")},d6cb:function(t,e,n){},d748:function(t,e,n){"use strict";var a=n("0279"),r=n.n(a);r.a},d991:function(t,e,n){"use strict";var a=n("0993"),r=n.n(a);r.a},e921:function(t,e,n){"use strict";var a=n("294f"),r=n.n(a);r.a},f982:function(t,e,n){"use strict";var a=n("ae99"),r=n.n(a);r.a}});
//# sourceMappingURL=app.e4784821.js.map