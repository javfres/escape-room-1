(function(e){function t(t){for(var a,i,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"000f":function(e,t,n){e.exports=n.p+"fonts/wizardspeak.007ed356.ttf"},"009c":function(e,t,n){e.exports=n.p+"img/book-open.555e3a34.png"},1:function(e,t){},1564:function(e,t,n){e.exports=n.p+"img/george_256.9197a081.png"},"17ae":function(e,t,n){"use strict";var a=n("5248"),r=n.n(a);r.a},2383:function(e,t,n){},2398:function(e,t,n){"use strict";var a=n("c75a"),r=n.n(a);r.a},"29c0":function(e,t,n){e.exports=n.p+"img/watson_256.45d3af8e.png"},"2fb0":function(e,t,n){"use strict";var a=n("8e56"),r=n.n(a);r.a},3179:function(e,t,n){"use strict";var a=n("f732"),r=n.n(a);r.a},"3a5c":function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n){var a=e.call(this,n)||this;return a.type=t,a}return a(t,e),t}(Error);t.default=r},"425d":function(e,t,n){e.exports=n.p+"img/poirot_256.5b99d475.png"},"495f":function(e,t,n){e.exports=n.p+"img/mulder_256.afa4bd31.png"},5215:function(e,t,n){},"521d":function(e,t,n){"use strict";n("4160"),n("a434"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this.callbacks={}}return e.prototype.add=function(e,t){var n=this,a=this.callbacks[e];return a||(a=[],this.callbacks[e]=a),a.push(t),function(){n.rm(e,t)}},e.prototype.rm=function(e,t){void 0===t&&(t=null);var n=this.callbacks[e];if(n)if(null!==t){for(var a=0;a<n.length;a++)if(n[a]===t)return void n.splice(a,1)}else n.splice(0,n.length)},e.prototype.rmAll=function(){for(var e in this.callbacks)this.rm(e)},e.prototype.run=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=this.callbacks[e];a&&a.forEach((function(e){return e.apply(void 0,t)}))},e}();t.default=a},5248:function(e,t,n){},"5e95":function(e,t,n){e.exports=n.p+"img/walter_256.678b82e0.png"},"604b":function(e,t,n){"use strict";var a=n("d945"),r=n.n(a);r.a},"61c9":function(e,t,n){},"69a6":function(e,t,n){},"6a48":function(e,t,n){},"6a7e":function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("ca70"));t.ClientV0=r.default;var o=a(n("7fac"));t.ClientV1=o.default},"74e8":function(e,t,n){var a={"./george_256.png":"1564","./marple_256.png":"bb09","./mulder_256.png":"495f","./nico_256.png":"f3fd","./olivia_256.png":"d3a4","./poirot_256.png":"425d","./scully_256.png":"c6e2","./sherlock_256.png":"a309","./walter_256.png":"5e95","./watson_256.png":"29c0"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="74e8"},7805:function(e,t,n){var a={"./avatars/george_256.png":"1564","./avatars/marple_256.png":"bb09","./avatars/mulder_256.png":"495f","./avatars/nico_256.png":"f3fd","./avatars/olivia_256.png":"d3a4","./avatars/poirot_256.png":"425d","./avatars/scully_256.png":"c6e2","./avatars/sherlock_256.png":"a309","./avatars/walter_256.png":"5e95","./avatars/watson_256.png":"29c0","./base/concrete-wall-2.png":"cd3f","./base/logo.svg":"f166","./base/maze_background.png":"7b93","./escape-test/book-closed.jpg":"8892","./escape-test/book-open.png":"009c","./fonts/wizardspeak.ttf":"000f","./puzzles/combinationA.svg":"9906","./puzzles/combinationB.svg":"c513","./sanjuan/room01_bookA.png":"bc5a","./sanjuan/room01_bookB.png":"f2dc"};function r(e){return Promise.resolve().then((function(){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var r=a[e];return n(r)}))}r.keys=function(){return Object.keys(a)},r.id="7805",e.exports=r},"784a":function(e,t,n){"use strict";var a=n("69a6"),r=n.n(a);r.a},"7b93":function(e,t){e.exports="data:image/png;base64,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"},"7fac":function(e,t,n){"use strict";n("4160"),n("d81d"),n("b64b"),n("159b");var a=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("bc56")),s=o(n("ca70")),c=o(n("521d")),u=function(e){function t(t){var n=e.call(this,t)||this;return n.game_events=[],n._user_data_dict={},n.callbacks_ud=new c.default,n.callbacks_ev=new c.default,n}return a(t,e),t.prototype.emitUserData=function(e){var t=this._user_data_dict[this.user_id];t=r(r({},t),e),Object.keys(t).forEach((function(e){return void 0===t[e]?delete t[e]:{}})),this._user_data_dict[this.user_id]=t,this._emitCustom("user-data",e)},t.prototype.onUserData=function(e){return this.callbacks_ud.add("main",e)},t.prototype.offUserData=function(e){void 0===e&&(e=null),this.callbacks_ud.rm("main",e)},Object.defineProperty(t.prototype,"user_data",{get:function(){var e=this;return this.user_list.map((function(t){var n=e._user_data_dict[t];return n||(n={}),r({_user_id:t},n)}))},enumerable:!0,configurable:!0}),t.prototype.emitGameEvent=function(e){var t=i.default.generate().toLowerCase().substring(0,4),n="e-"+this.user_idx+"-"+this.game_events.length+"-"+t,a={event_id:n,user_id:this.user_id,data:e};this._emitCustom("game-event",a),this._addGameEvent(a)},t.prototype._addGameEvent=function(e){for(var t=this,n=e.event_id,a=e.user_id,r=e.data,o=0;o<this.game_events.length;o++)if(this.game_events[o].event_id===n)return;var i={event_id:n,user_id:a,processed:!1,data:r};this.game_events.push(i),this.game_events.forEach((function(e){e.processed||(e.processed=!0,t.callbacks_ev.run("main",e.data,e.user_id))}))},t.prototype.onGameEvent=function(e){return this.callbacks_ev.add("main",e)},t.prototype.offGameEvent=function(e){void 0===e&&(e=null),this.callbacks_ev.rm("main",e)},t.prototype._onCustom=function(t){var n=t.user_id,a=t.type,r=t.data;switch(a){case"user-data":return this._onUserData(n,r);case"game-event":return this._onGameEvent(n,r)}e.prototype._onCustom.call(this,t)},t.prototype._onUserData=function(e,t){var n=this._user_data_dict[e];n=r(r({},n),t),Object.keys(n).forEach((function(e){return void 0===n[e]?delete n[e]:{}})),this._user_data_dict[e]=n,this.callbacks_ud.run("main",this.user_data)},t.prototype._onGameEvent=function(e,t){this._addGameEvent(t)},t.prototype._onUserList=function(t){var n=this;e.prototype._onUserList.call(this,t);var a=this.user_data[this.user_idx];this.emitUserData(a),this.game_events.forEach((function(e){n._emitCustom("game-event",e)}))},t.prototype.disconnect=function(){this.callbacks_ev.rmAll(),this.callbacks_ud.rmAll(),e.prototype.disconnect.call(this)},t}(s.default);t.default=u},8892:function(e,t,n){e.exports=n.p+"img/book-closed.804330e6.jpg"},"89f6":function(e,t,n){"use strict";var a=n("f659"),r=n.n(a);r.a},"8cf4":function(e,t,n){},"8e07":function(e,t,n){},"8e56":function(e,t,n){},"8eb2":function(e,t,n){"use strict";var a=n("5215"),r=n.n(a);r.a},9275:function(e,t,n){"use strict";var a=n("e3f4"),r=n.n(a);r.a},"92e6":function(e,t,n){var a={"./avatars/george_256.png":"1564","./avatars/marple_256.png":"bb09","./avatars/mulder_256.png":"495f","./avatars/nico_256.png":"f3fd","./avatars/olivia_256.png":"d3a4","./avatars/poirot_256.png":"425d","./avatars/scully_256.png":"c6e2","./avatars/sherlock_256.png":"a309","./avatars/walter_256.png":"5e95","./avatars/watson_256.png":"29c0","./base/concrete-wall-2.png":"cd3f","./base/logo.svg":"f166","./base/maze_background.png":"7b93","./escape-test/book-closed.jpg":"8892","./escape-test/book-open.png":"009c","./fonts/wizardspeak.ttf":"000f","./puzzles/combinationA.svg":"9906","./puzzles/combinationB.svg":"c513","./sanjuan/room01_bookA.png":"bc5a","./sanjuan/room01_bookB.png":"f2dc"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="92e6"},9906:function(e,t,n){e.exports=n.p+"img/combinationA.53ccea3d.svg"},a2bb:function(e,t,n){"use strict";var a=n("ec79"),r=n.n(a);r.a},a309:function(e,t,n){e.exports=n.p+"img/sherlock_256.c06ca234.png"},a8b3:function(e,t,n){"use strict";var a=n("6a48"),r=n.n(a);r.a},b008:function(e,t,n){"use strict";var a=n("8e07"),r=n.n(a);r.a},bb09:function(e,t,n){e.exports=n.p+"img/marple_256.a4c5afd0.png"},bc5a:function(e,t,n){e.exports=n.p+"img/room01_bookA.0a96d980.png"},bfdd:function(e,t,n){},c513:function(e,t,n){e.exports=n.p+"img/combinationB.cade8e81.svg"},c6e2:function(e,t,n){e.exports=n.p+"img/scully_256.aba236af.png"},c75a:function(e,t,n){},ca70:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("d28b"),n("a15b"),n("d3b7"),n("3ca3"),n("ddb0");var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,a){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{c(a.next(e))}catch(t){o(t)}}function s(e){try{c(a["throw"](e))}catch(t){o(t)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((a=a.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(o){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,a&&(r=2&o[0]?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,r++)a[r]=o[i];return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n("c00c")),u=s(n("3a5c")),l=s(n("521d")),d=function(){function e(e,t){void 0===t&&(t={}),this.user_list=[],this.server=e,this.callbacks=new l.default,this.config=t}return e.prototype._connect=function(e,t,n){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var a=this;return o(this,(function(r){return[2,new Promise((function(r,o){var i=function(){a.disconnect(),o(new u.default("no_connection","No connection to server"))};a.socket=c.default(a.server),a.socket.on("user-list",a._onUserList.bind(a)),a.socket.on("custom",a._onCustom.bind(a)),a.socket.on("server-close",a._onServerClose.bind(a)),a.socket.on("connect_error",i),a.socket.emit(e,t,(function(e){if(e.error){var t=void 0;switch(e.error){case"bad_game":t="Trying to connect to bad game";break;case"full_game":t="The game is full";break;default:t="Unexpected error"}return a.disconnect(),void o(new u.default(e.error,t))}n(e),r()}))}))]}))}))},e.prototype.create=function(){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){return[2,this._connect("create",a({},this.config),(function(t){e.game_id=t.game_id,e.user_id=t.user_id,e.user_list=t.user_list}))]}))}))},e.prototype.join=function(e){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(n){return[2,this._connect("join",a({game_id:e},this.config),(function(e){t.game_id=e.game_id,t.user_id=e.user_id,t.user_list=e.user_list}))]}))}))},Object.defineProperty(e.prototype,"user_idx",{get:function(){for(var e=0;e<this.user_list.length;e++)if(this.user_list[e]===this.user_id)return e;return-1},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t){return this.callbacks.add(e,t)},e.prototype.off=function(e,t){void 0===t&&(t=null),this.callbacks.rm(e,t)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._emitCustom("other",{channel:e,data:i(t)})},e.prototype.disconnect=function(){this.callbacks.rmAll(),this.socket.disconnect(!0)},e.prototype._onUserList=function(e){this.user_list=e.user_list},e.prototype._onCustom=function(e){var t=e.user_id,n=e.type,a=e.data;switch(n){case"other":return this._onOther(t,a)}},e.prototype._emitCustom=function(e,t){this.socket.emit("custom",{game_id:this.game_id,user_id:this.user_id,type:e,data:t})},e.prototype._onOther=function(e,t){var n,a=t.channel,r=t.data;(n=this.callbacks).run.apply(n,i([a],r))},e.prototype._onServerClose=function(){this.disconnect()},e}();t.default=d},cd3f:function(e,t,n){e.exports=n.p+"img/concrete-wall-2.44e11fda.png"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("15f5"),n("7051"),n("4160"),n("a15b"),n("d81d"),n("159b");var a=n("b85c"),r=(n("96cf"),n("1da1")),o=n("15fd"),i=n("d4ec"),s=n("bee2"),c=(n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("262e")),u=n("2caf"),l=function e(t){Object(i["a"])(this,e),this.used=!1,this.msg=t},d=function(){function e(t,n){Object(i["a"])(this,e),this.actions=[],this.solved=!1,this.hints=[],this.id="puz-".concat(++e.current_id),console.log("puxsssssss ",this.id),this.type=t,this.config=n}return Object(s["a"])(e,[{key:"add",value:function(e){e instanceof l?this.hints.push(e):this.actions.push(e)}},{key:"solveEvent",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("solveEvent.",this.id),e.next=3,R.current();case 3:t=e.sent,t.addEvent("solved",this.id);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"solve",value:function(e){if(this.solved)throw new Error("Puzzle already solved");this.solved=!0,this.actions.forEach((function(t){return t.run(e)}))}}]),e}();d.current_id=0;n("99af"),n("4de4"),n("ac1f"),n("1276"),n("2ca0");function f(e){return new Promise((function(t){return setTimeout(t,e)}))}n("25f0"),n("5319");function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}))}var A=!1,h=A?console.log:function(){},v=n("7805"),m=function(){function e(){Object(i["a"])(this,e)}return Object(s["a"])(e,null,[{key:"preload",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.preload_inner(n);case 1:if(e.files[n].finished){t.next=6;break}return t.next=4,f(100);case 4:t.next=1;break;case 6:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"preloadFolder",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=v.keys().filter((function(e){return e.startsWith("./".concat(t,"/"))})).map((function(e){return e.substr(2)})),a=n.map((function(e){return r.preload(e)})),e.next=4,Promise.all(a);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"preload_inner",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.files[n]){t.next=2;break}return t.abrupt("return");case 2:return a={finished:!1},e.files[n]=a,h("Preloading ".concat(n)),t.next=7,v("./"+n);case 7:if(r=t.sent,h("Preloading ".concat(n," -> ").concat(r)),!e.isSupported()){t.next=14;break}return t.next=12,this.preload_inner_regular(a,n,r);case 12:t.next=16;break;case 14:return t.next=16,this.preload_inner_ugly(a,n,r);case 16:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"preload_inner_regular",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=document.createElement("link"),r.rel="preload",r.as=this.getLinkType(n),r.href=a,document.body.appendChild(r),r.onload=function(){h("Preloaded",n),t.finished=!0},r.onerror=function(e){console.error("Error preloading",n,e),t.finished=!0};case 7:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"getLinkType",value:function(e){var t=e.toLowerCase().split(".").pop();switch(t){case"ttf":return"font";default:return"image"}}},{key:"preload_inner_ugly",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=this.getLinkType(n),e.t0=r,e.next="image"===e.t0?4:"font"===e.t0?7:10;break;case 4:return e.next=6,this.preload_inner_ugly_image(t,n,a);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,this.preload_inner_ugly_font(t,n,a);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"preload_inner_ugly_image",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:h("Preload is not supported, using ugly alternative for image"),r=document.createElement("img"),r.src=a,r.onload=function(){h("Preloaded",n),t.finished=!0},r.onerror=function(e){console.error("Error preloading",n,e),t.finished=!0};case 5:case"end":return e.stop()}}),e)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"preload_inner_ugly_font",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,o,i,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.warn("Preload is not supported, using ugly alternative for font"),t.finished=!0,r="preload-font-"+p(),o='\n            @font-face {\n                font-family: "'.concat(r,'";\n                src: url("').concat(a,'");\n            }\n        '),i=document.createElement("style"),document.head.appendChild(i),i.type="text/css",i.appendChild(document.createTextNode(o)),s=document.createElement("div"),c=document.createTextNode("abcefghijklmopqrstuvwxyz"),s.appendChild(c),s.style.cssText="font-family: ".concat(r,"; visibility: hidden;"),document.body.appendChild(s);case 13:case"end":return e.stop()}}),e)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"isSupported",value:function(){var e=function(e,t){if(e&&e.supports)try{return e.supports(t)}catch(n){n instanceof TypeError?console.log("The DOMTokenList doesn't have a supported tokens list"):console.error("That shouldn't have happened")}};return!!e(document.createElement("link").relList,"preload")}}]),e}();m.files={};var g=n("92e6");function _(e){try{return g("./"+e)}catch(t){return console.error("Not found asset "+e),null}}var b=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(i["a"])(this,e),this.assets=[],this.url_prev=null,this.zoom=!1,this.used=!1,this.id="img-".concat(++e.current_id),console.log(this.id),this.url=_(t),this.assets.push(t),n&&(this.url_prev=_(n),this.assets.push(n),this.zoom=!0)}return Object(s["a"])(e,[{key:"preload",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.assets.map((function(e){return m.preload(e)})),e.next=3,Promise.all(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();b.current_id=0;var y=function(){function e(t){Object(i["a"])(this,e),this.actions=[],this.id="but-".concat(++e.current_id),this.text=t}return Object(s["a"])(e,[{key:"add",value:function(e){this.actions.push(e)}},{key:"click",value:function(e){this.actions.forEach((function(t){return t.run(e)}))}}]),e}();y.current_id=0;var j=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";Object(i["a"])(this,e),this.type=t},k=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this,"text"),a.text=e,a}return n}(j),O=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this,"puzzle"),a.puzzle=e,a}return n}(j),E=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this,"image"),a.image=e,a}return n}(j),C=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this,"button"),a.button=e,a}return n}(j),w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"closed";Object(i["a"])(this,e),this.content=[],this.id="rom-".concat(++e.current_id),this.name=t,this.status=n}return Object(s["a"])(e,[{key:"add",value:function(e){"string"!==typeof e?e instanceof d?this.content.push(new O(e)):e instanceof b?this.content.push(new E(e)):e instanceof y&&this.content.push(new C(e)):this.content.push(new k(e))}},{key:"getElement",value:function(e){var t,n=Object(a["a"])(this.content);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r instanceof E&&e===r.image.id)return r.image;if(r instanceof O&&e===r.puzzle.id)return r.puzzle;if(r instanceof C&&e===r.button.id)return r.button}}catch(o){n.e(o)}finally{n.f()}return null}},{key:"preload",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],this.content.forEach((function(e){e instanceof E&&t.push(e.image.preload())})),e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();w.current_id=0;var x=function(){function e(){Object(i["a"])(this,e)}return Object(s["a"])(e,null,[{key:"localStorageAvailable",value:function(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(n){return!1}}}]),e}();x.id="EscapeRoom001A-v1",x.SERVER="https://multiplayer.javilabs.es";var B=n("6a7e"),R=function(){function e(){Object(i["a"])(this,e),this.id="",this.rooms=[],this.current_room=null,this.events=[],this.multiplayer=null,e.current_game=this}return Object(s["a"])(e,[{key:"add",value:function(e){if(e instanceof w)return this.current_room||(this.current_room=e),void this.rooms.push(e)}},{key:"changeRoom",value:function(e){this.current_room=e}},{key:"toData",value:function(){var e=null,t=null;if(this.multiplayer){e=this.multiplayer.game_id;var n=this.multiplayer.user_data[this.multiplayer.user_idx],a=(n._user_id,Object(o["a"])(n,["_user_id"]));t=a}return JSON.stringify({multiplayer_game_id:e,my_user_data:t,events:this.events})}},{key:"fromData",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=JSON.parse(t),n.events.map((function(e){r.addEvent(e.type,e.data,!0)})),!n.multiplayer_game_id){e.next=9;break}return a=new B["ClientV1"](x.SERVER),e.next=6,a.join(n.multiplayer_game_id);case 6:this.join(a),a.emitUserData(n.my_user_data),this.save();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"processEvent",value:function(e,t){if("solved"===e.type){var n=this.getElement(e.data);if(!n)return void console.error("Unable to find element "+e.data);n.solve(t)}}},{key:"save",value:function(){x.localStorageAvailable()?(console.log("Save",this.toData()),localStorage.setItem(x.id+"-id",this.id),localStorage.setItem(x.id+"-data",this.toData())):console.warn("No local storage available")}},{key:"addEvent",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s={type:e,data:t};console.log(s,this.events.map((function(e){return e})));var c,u=Object(a["a"])(this.events);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(l.type===e&&l.data===t)return void console.log("Repeated event",s)}}catch(d){u.e(d)}finally{u.f()}this.events.push(s),this.save(),this.processEvent(s,o),Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.multiplayer&&!i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,f(50);case 4:n.multiplayer.emitGameEvent(s);case 5:case"end":return e.stop()}}),e)})))()}},{key:"getElement",value:function(e){var t,n=Object(a["a"])(this.rooms);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e)return r;var o=r.getElement(e);if(o)return o}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"join",value:function(e){var t=this;console.log("Game.join"),this.multiplayer=e,this.multiplayer.onGameEvent(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f(50);case 2:console.log(">>>>",n,"from",a,"me:",null===(r=t.multiplayer)||void 0===r?void 0:r.user_id),t.addEvent(n.type,n.data,!1,a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),console.log("Multilyer events: ",e.game_events),e.game_events.forEach((function(e){t.addEvent(e.data.type,e.data.data,!0)})),this.save()}}],[{key:"register",value:function(e,t){this.constructors[e]=t}},{key:"registerDefault",value:function(e,t){this.register(e,t),this.default_name=e}},{key:"new",value:function(e){if(!e&&!this.default_name)throw new Error("No game specified");e||(e=this.default_name),w.current_id=0,d.current_id=0;var t=this.constructors[e];if(!t)throw new Error("There is no game named '".concat(e,"'"));var n=t();return n.id=e,n.save(),n}},{key:"current",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.current_game){e.next=2;break}return e.abrupt("return",this.current_game);case 2:if(!x.localStorageAvailable()){e.next=12;break}if(t=localStorage.getItem(x.id+"-id"),n=localStorage.getItem(x.id+"-data"),!t){e.next=10;break}return a=this.new(t),e.next=9,a.fromData(n);case 9:return e.abrupt("return",a);case 10:e.next=13;break;case 12:console.warn("No local storage available");case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();R.current_game=null,R.constructors={},R.default_name=null;var I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(i["a"])(this,e),this.content=[],this.title=t}return Object(s["a"])(e,[{key:"add",value:function(e){this.content.push(e)}}],[{key:"onMessage",value:function(e){this.callback=e}},{key:"show",value:function(e){this.callback&&this.callback(e)}}]),e}(),Q=function(){function e(t){Object(i["a"])(this,e),t instanceof I?this.msg=t:(this.msg=new I,this.msg.add(t))}return Object(s["a"])(e,[{key:"run",value:function(e){e||I.show(this.msg)}}]),e}(),M=function(){function e(t){Object(i["a"])(this,e),this.room=t}return Object(s["a"])(e,[{key:"run",value:function(e){var t=this;Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R.current();case 2:n=e.sent,n.changeRoom(t.room);case 4:case"end":return e.stop()}}),e)})))()}}]),e}();R.registerDefault("sanjuan",(function(){var e,t,n,a=new R,r=new w("Entrada","open"),o=new w("Clase de vega","open");return a.add(r),a.add(o),r.add("\n        Estamos Mayo del 2020, somo un grupo de alumnos de 4º E.S.O\n        del colegio San Juan de la Cruz.\n        Este es nuestro último curso en este colegio,\n        y esperamos ansiosos nuestra graduación.\n        Sin embargo, un virus, llamado COVID19, ha truncado nuestras expectativas\n        y se han anulado nuestras clases.\n    "),r.add("\n        En la tele escuchamos a diario, que no se podrán hacer grandes reuniones,\n        ¿Y nuestra graduación? Pues para guardar la distancia mínima y respetar el aforo máximo,\n        cuando llegue la tan ansiada “nueva normalidad”,\n        solo los que demostremos que hemos realizado todo nuestro paso por este estupendo centro con éxito,\n        conseguiremos entradas para tan esperado acontecimiento,\n        para poder demostrarlo tendremos que conseguir nuestro diploma acreditativo, que nos han escondido por el colegio.\n    "),r.add("\n        Comenzamos...   \n    "),r.add("\n        No tenemos ninguna pista para empezar nuestra andadura,\n        tan solo contamos con un antiguo anuario, abierto por una de las páginas.\n        En esa página podemos ver como aparecen sonrientes alumnos de 2º E.I,\n        tras pensar un rato, nos dirigimos a clase de VEGA, ya que ella es la tutora de ese curso.\n    "),e=new y("Entrar en clase de Vega"),e.add(new M(o)),r.add(e),o.add("\n        Encima de su mesa observamos la imagen de un Virgen María,\n        está claro que en el cole estaban preparando actividades\n        para este mes de Mayo y a nuestro recuerdo se vienen la cantidad\n        de ofrendas florales que hemos hecho nosotros a la Virgen\n        a lo largo de nuestra etapa en el Colegio.\n        Junto a la mesa, se encuentra una caja cerrada,\n        con una combinación numérica.\n    "),t=new b("sanjuan/room01_bookB.png","sanjuan/room01_bookA.png"),o.add(t),n=new d("keypad",{code:"4123756",layout:[["1","2","3"],["4","5","6"],["7","8","9"],["","0","clear"]]}),o.add(n),n.add(new Q("Bien")),a}));var S=n("a026"),N=n("8c4f"),D=(n("0808"),n("6944")),z=n.n(D),J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{loaded:e.loaded},attrs:{id:"app"}},[e.loaded?[a("section",{staticClass:"section"},[a("div",{staticClass:"container"},[a("img",{attrs:{src:n("f166")}}),a("h1",{staticClass:"title is-1"},[e._v("Escape Room")]),a("h2",{staticClass:"subtitle"},[e._v(" Un juego de escape online para poner a prueba tu ingenio y astucia resolviendo pruebas de lógica. ¿Asumirás el reto? ")]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("div",{staticClass:"box content"},[a("h3",{staticClass:"title is-3"},[e._v("Juego individual")]),a("p",[e._v(" Juego usando un único ordenador. ")]),a("button",{staticClass:"button",on:{click:e.single_game}},[e._v(" Iniciar partida individual ")])])]),a("div",{staticClass:"column"},[a("div",{staticClass:"box content"},[a("h3",{staticClass:"title is-3"},[e._v("Juego multijugador")]),a("p",[e._v(" Escape room ")]),a("div",{staticClass:"has-text-centered"},[a("button",{staticClass:"button is-centered",on:{click:function(t){return e.$router.push("/multiplayer")}}},[e._v(" Configurar partida multijugador ")])])])])])])])]:e._e()],2)},K=[],P=n("9ab4"),U=n("60a3"),G=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.loaded=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){console.log("app"),this.waitLoad()}},{key:"waitLoad",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.preloadFolder("fonts");case 2:return e.next=4,m.preloadFolder("base");case 4:return e.next=6,m.preloadFolder("puzzles");case 6:this.loaded=!0;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"single_game",value:function(){R.new();this.$router.push("/game")}}]),n}(U["c"]);G=Object(P["__decorate"])([Object(U["a"])({components:{}})],G);var V=G,T=V,L=(n("2398"),n("2877")),F=Object(L["a"])(T,J,K,!1,null,null,null),H=F.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{loaded:e.loaded},attrs:{id:"app"}},[e.loaded?[e.game?n("GameVue",{attrs:{game:e.game}}):void 0]:e._e()],2)},Y=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"game"}},[n("TopbarVue",{attrs:{game:e.game}}),e.game.current_room?n("RoomVue",{attrs:{room:e.game.current_room}}):e._e(),n("ButtonsVue",{attrs:{game:e.game}}),e.message?n("MessageVue",{attrs:{message:e.message},on:{close:function(t){e.message=null}}}):e._e()],1)},W=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"topbar"},[a("img",{staticClass:"logo",attrs:{src:n("f166")}}),e._v(" "+e._s(e.mp_users.length)+" "),e._l(e.mp_users,(function(t){return a("span",[e._v(" X "+e._s(t.name)+" ")])}))],2)},Z=[],ee=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.mp_users=[],e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=this;this.game.multiplayer&&(this.mp_users=this.game.multiplayer.user_data,this.game.multiplayer.onUserData((function(t){e.mp_users=t})))}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],ee.prototype,"game",void 0),ee=Object(P["__decorate"])([U["a"]],ee);var te=ee,ne=te,ae=(n("cfdc"),Object(L["a"])(ne,q,Z,!1,null,"6ff80edd",null)),re=ae.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"room"},[e.loaded?n("div",[n("div",{staticClass:"container"},[n("h2",{staticClass:"title"},[e._v(" "+e._s(e.room.name)+" ")]),e._l(e.room.content,(function(t,a){return["text"===t.type?n("p",{key:e.room.name+a,staticClass:"room-text",domProps:{innerHTML:e._s(t.text)}}):e._e(),"image"===t.type?n("div",{key:e.room.name+a},[n("ImageVue",{attrs:{image:t.image}})],1):e._e(),"puzzle"===t.type?n("div",{key:e.room.name+a},[n("PuzzleVue",{attrs:{puzzle:t.puzzle}})],1):e._e(),"button"===t.type?n("div",{key:e.room.name+a},[n("ButtonVue",{attrs:{button:t.button}})],1):e._e()]}))],2)]):n("div",{staticClass:"loading"},[e._v(" Loading... ")])])},ie=[],se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("figure",{staticClass:"image"},[e.image.url_prev?n("img",{attrs:{src:e.image.url_prev}}):n("img",{attrs:{src:e.image.url}}),e.image.zoom?[n("button",{staticClass:"button",on:{click:function(t){e.modal=!0}}},[e._m(0)]),e.modal?n("ImageViewerVue",{attrs:{image:e.image.url},on:{close:function(t){e.modal=!1}}}):e._e()]:e._e()],2)},ce=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-search"})])}],ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"image-viewer"},[n("ModalVue",{on:{close:e.close}},[n("div",{directives:[{name:"viewer",rawName:"v-viewer",value:e.vvconfig,expression:"vvconfig"}],staticClass:"v-viewer"},e._l(e.images,(function(e){return n("img",{key:e,attrs:{src:e}})})),0),n("div",{staticClass:"toolbar buttons is-centered"},[n("button",{staticClass:"button",on:{click:e.zoomInc}},[n("i",{staticClass:"fas fa-plus"})]),n("button",{staticClass:"button",on:{click:e.zoomDec}},[n("i",{staticClass:"fas fa-minus"})]),n("button",{staticClass:"button",on:{click:e.rotateL}},[n("i",{staticClass:"fas fa-undo-alt"})]),n("button",{staticClass:"button",on:{click:e.rotateR}},[n("i",{staticClass:"fas fa-redo-alt"})])])])],1)},le=[],de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background",on:{click:e.close}}),n("div",{staticClass:"modal-content"},[e._t("default")],2),e.closeable?n("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:e.close}}):e._e()])},fe=[],pe=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.closeable&&this.$emit("close")}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])({default:!0})],pe.prototype,"closeable",void 0),pe=Object(P["__decorate"])([Object(U["a"])({components:{}})],pe);var Ae=pe,he=Ae,ve=(n("feac"),Object(L["a"])(he,de,fe,!1,null,"33b49718",null)),me=ve.exports,ge=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.vvconfig={inline:!0,button:!1,navbar:!1,title:!1,toolbar:!1,tooltip:!1,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!1,keyboard:!1,url:"data-source"},e}return Object(s["a"])(n,[{key:"zoomInc",value:function(){this.viewer.zoom(.1)}},{key:"zoomDec",value:function(){this.viewer.zoom(-.1)}},{key:"rotateL",value:function(){this.viewer.rotate(-45)}},{key:"rotateR",value:function(){this.viewer.rotate(45)}},{key:"close",value:function(){this.$emit("close")}},{key:"images",get:function(){return Array.isArray(this.image)?this.image:[this.image]}},{key:"viewer",get:function(){var e=this.$el.querySelector(".v-viewer");return e.$viewer}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],ge.prototype,"image",void 0),ge=Object(P["__decorate"])([Object(U["a"])({components:{ModalVue:me}})],ge);var _e=ge,be=_e,ye=(n("89f6"),Object(L["a"])(be,ue,le,!1,null,"5cd19d9b",null)),je=ye.exports,ke=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.modal=!1,e}return n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],ke.prototype,"image",void 0),ke=Object(P["__decorate"])([Object(U["a"])({components:{ImageViewerVue:je}})],ke);var Oe=ke,Ee=Oe,Ce=(n("ee15"),Object(L["a"])(Ee,se,ce,!1,null,"34f8d9fc",null)),we=Ce.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle"},[e.puzzle.solved?n("div",{staticClass:"solved"},[e._v(" Resuelto ")]):e._e(),"combination"===e.puzzle.type?n("div",[n("CombinationLockVue",{attrs:{code:e.puzzle.config.code,tolerance:e.puzzle.config.tolerance},on:{success:e.success}})],1):"keypad"===e.puzzle.type?n("div",[n("KeypadVue",{attrs:{layout:e.puzzle.config.layout,code:e.puzzle.config.code,font:e.puzzle.config.font},on:{success:e.success}})],1):"wirecut"===e.puzzle.type?n("div",[n("WirecutVue",{attrs:{layout:e.puzzle.config.layout,code:e.puzzle.config.code},on:{success:e.success}})],1):n("div",[e._v(" Unsuppored puzzle "+e._s(e.puzzle.type)+" ")]),n("div",{staticClass:"puzzle-buttons"},[n("button",{staticClass:"button",attrs:{title:"Pistas"},on:{click:function(t){e.modal_hints=!0}}},[e._m(0)])]),e.modal_hints?n("HintsVue",{attrs:{hints:e.puzzle.hints},on:{close:function(t){e.modal_hints=null}}}):e._e()],1)},Be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-lightbulb"})])}],Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"keypad"},[n("div",{staticClass:"leds"},e._l(e.leds,(function(e,t){return n("div",{key:t,staticClass:"led",class:e})})),0),n("div",{staticClass:"keypad-btns",style:e.btnsStyle},[e._l(e.layout,(function(t,a){return e._l(t,(function(t,r){return n("div",{key:a+"-"+r,staticClass:"hole"},[t?n("div",{staticClass:"btn",on:{click:function(n){return e.press(t)}}},[n("span","clear"===t?[n("i",{staticClass:"far fa-trash-alt"})]:[e._v(e._s(t))])]):e._e()])}))}))],2)])},Ie=[],Qe=(n("cb29"),function(){return[["1","2","3"],["4","5","6"],["7","8","9"],["","0","clear"]]}),Me=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.current="",e.enabled=!0,e.leds=[],e}return Object(s["a"])(n,[{key:"mounted",value:function(){this.leds=Array(this.code.length).fill(null).map((function(e){return{active:!1,success:!1,error:!1}}))}},{key:"press",value:function(e){if(this.enabled)if("clear"!==e){var t=e.substring(0,1),n=this.current.length;this.current+=t,this.leds[n].active=!0,this.current.length===this.code.length&&(this.code!==this.current?this.show_error():this.show_success())}else this.clear()}},{key:"clear",value:function(){this.current="",this.leds.forEach((function(e){return e.active=!1}))}},{key:"show_error",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.enabled=!1,this.leds.forEach((function(e){return e.active=!1})),t=0;case 3:if(!(t<3)){e.next=13;break}return this.leds.forEach((function(e){return e.error=!0})),e.next=7,f(200);case 7:return this.leds.forEach((function(e){return e.error=!1})),e.next=10,f(100);case 10:t++,e.next=3;break;case 13:this.clear(),this.enabled=!0;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"show_success",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.enabled=!1,this.leds.forEach((function(e){return e.active=!1})),this.leds.forEach((function(e){return e.success=!0})),e.next=5,f(1e3);case 5:this.$emit("success");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"btnsStyle",get:function(){var e="grid-template-columns: repeat(".concat(this.layout[0].length,", 55px);");return this.font&&(e+="font-family: '".concat(this.font,"';")),e}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])({default:Qe})],Me.prototype,"layout",void 0),Object(P["__decorate"])([Object(U["b"])({default:"123"})],Me.prototype,"code",void 0),Object(P["__decorate"])([Object(U["b"])({default:""})],Me.prototype,"font",void 0),Me=Object(P["__decorate"])([Object(U["a"])({components:{}})],Me);var Se=Me,Ne=Se,De=(n("604b"),Object(L["a"])(Ne,Re,Ie,!1,null,"de7a57fe",null)),ze=De.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lock"},[a("img",{staticClass:"shackle",class:{open:e.open},attrs:{src:n("c513")}}),a("img",{attrs:{src:n("9906")}}),a("div",{ref:"dial",staticClass:"dial",class:{enabled:e.enabled}},[e._l(e.numbers,(function(t,n){return a("div",{key:"num"+t,staticClass:"lock-num",style:"transform: rotate("+360*n/e.numbers.length+"deg);"},[e._v(" "+e._s(t)+" ")])})),e._l(e.max,(function(t){return a("div",{key:"mark"+t,staticClass:"lock-mark",class:{step:t%e.step===0},style:"transform: rotate("+360*t/e.max+"deg);"},[a("div")])}))],2),e.open?e._e():a("button",{staticClass:"button reset",on:{click:e.reset}},[e._m(0)])])},Ke=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-undo-alt"})])}],Pe=(n("70ea"),function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.max=30,e.step=5,e.numbers=[],e.current=0,e.direction=1,e.current_code=[0],e.enabled=!0,e.open=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=0;do{this.numbers.push(e),e+=this.step}while(e<this.max);this.propeller=new window.Propeller(this.$refs.dial,{inertia:.5,onRotate:this.onRotate})}},{key:"angle",value:function(){if(!this.propeller)return 0;var e=100*(this.propeller.angle+360);return e%=36e3,e/=100,e}},{key:"onRotate",value:function(){this.current=Math.round((360-this.angle())*this.max/360)}},{key:"onChange",value:function(){if(this.enabled){var e=this.current_code.pop();(this.current-e)*this.direction>0||(this.direction*=-1,this.current_code.push(e)),this.current_code.push(this.current);var t=this.code.split("-").map((function(e){return+e}));while(this.current_code.length>t.length)this.current_code.shift();if(this.current_code.length===t.length){for(var n=!0,a=-1,r=0;r<t.length;r++){a*=-1;for(var o=!1,i=0;i<=this.tolerance;i++)t[r]===this.current_code[r]-i*a&&(o=!0);if(!o){n=!1;break}}n&&this.show_success()}}}},{key:"show_success",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.open=!0,e.next=3,f(1e3);case 3:return this.enabled=!1,e.next=6,f(2e3);case 6:this.$emit("success");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChangeEnabled",value:function(){this.enabled?this.propeller.bind():this.propeller.unbind()}},{key:"reset",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:this.enabled=!1;case 3:if(!(Math.abs(this.angle())>=2)){e.next=13;break}if(t=this.current<this.max/2?this.current:this.current-this.max,!(Math.abs(t)<2)){e.next=7;break}return e.abrupt("break",13);case 7:return n=t<0?-10:10,this.propeller.speed=n,e.next=11,f(100);case 11:e.next=3;break;case 13:this.propeller.angle=0,this.propeller.stop(),this.enabled=!0;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(U["c"]));Object(P["__decorate"])([Object(U["b"])({default:"10-5-15"})],Pe.prototype,"code",void 0),Object(P["__decorate"])([Object(U["b"])({default:1})],Pe.prototype,"tolerance",void 0),Object(P["__decorate"])([Object(U["d"])("current")],Pe.prototype,"onChange",null),Object(P["__decorate"])([Object(U["d"])("enabled")],Pe.prototype,"onChangeEnabled",null),Pe=Object(P["__decorate"])([Object(U["a"])({components:{}})],Pe);var Ue=Pe,Ge=Ue,Ve=(n("2fb0"),Object(L["a"])(Ge,Je,Ke,!1,null,"20e16f8e",null)),Te=Ve.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wirecut"},[n("div",{staticClass:"leds"},[n("div",{staticClass:"led",class:e.led1}),n("div",{staticClass:"led",class:e.led2})]),n("div",{staticClass:"content"},[n("svg",{attrs:{height:e.CONTENT_HEIGHT,width:e.CONTENT_WIDTH}},[e._l(e.wires,(function(t,a){return[t.cut?n("g",{key:"c"+a,staticClass:"cuts"},[n("path",{attrs:{d:t.cutA,stroke:t.color}}),n("path",{attrs:{d:t.cutB,stroke:t.color}})]):e._e()]})),e._l(e.wires,(function(t,a){return[t.cut?e._e():n("g",{key:"w"+a,staticClass:"wires",on:{click:function(t){return e.cutWire(a)}}},[n("path",{staticClass:"hover",attrs:{d:t.path}}),n("path",{attrs:{d:t.path,stroke:t.color}})])]}))],2),n("div",{staticClass:"sideA"},[e._l(e.layout.connectorsA,(function(e,t){return[n("div",{key:t,staticClass:"connector",class:{hidden:!e}})]}))],2),n("div",{staticClass:"space"}),n("div",{staticClass:"sideB"},[e._l(e.layout.connectorsB,(function(e,t){return[n("div",{key:t,staticClass:"connector",class:{hidden:!e}})]}))],2)])])},Fe=[];function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:123;e%=2147483647;var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e=16807*e%2147483647;var a=(e-1)/2147483646;if(t>n){var r=[n,t];t=r[0],n=r[1]}return a*(n-t)+t};return t}var Xe=function(){return{connectorsA:["A","B","C",null,"D"],connectorsB:["E","F","G"],wires:[{ini:"A",end:1,color:"#4254f5"},{ini:1,end:0,color:"#f54242"},{ini:"D",end:2,color:"#42f55a"}],seed:2}},Ye=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.current_code="",e.CONNECTOR_SIZE=20,e.CONNECTOR_MARGIN=30,e.CONTENT_WIDTH=300,e.enabled=!0,e.wires=[],e.led1={on:!0},e.led2={on:!1},e}return Object(s["a"])(n,[{key:"getConnectorIdx",value:function(e){if("string"!==typeof e)return e;for(var t=0;t<this.layout.connectorsA.length;t++)if(this.layout.connectorsA[t]===e)return t;for(var n=0;n<this.layout.connectorsB.length;n++)if(this.layout.connectorsB[n]===e)return n;return-1}},{key:"mounted",value:function(){var e=this;this.ledsUpdate();var t=He(this.layout.seed);this.wires=this.layout.wires.map((function(n){var a=function(t){return(e.CONNECTOR_SIZE+e.CONNECTOR_MARGIN)*t+e.CONNECTOR_MARGIN+e.CONNECTOR_SIZE/2},r=function(t){return e.CONNECTOR_SIZE/2+e.CONNECTOR_MARGIN+(e.CONTENT_WIDTH-e.CONNECTOR_SIZE-2*e.CONNECTOR_MARGIN)*t},o=e.getConnectorIdx(n.ini),i=e.getConnectorIdx(n.end),s=Math.min(o,i),c=Math.max(o,i),u=r(0)+" "+a(o),l=r(t(.2,.8))+" "+a(t(s-1,c+1)),d=r(1)+" "+a(i),f="M ".concat(u," Q ").concat(l," ").concat(d),p=r(t(.2,.8)),A=a(t(s,c)),h=t(r(0)+10,p-25)+" "+a(t(s,c)),v=t(p+25,r(1)-10)+" "+a(t(s,c)),m="M ".concat(u," Q ").concat(h," ").concat(p-20," ").concat(A),g="M ".concat(d," Q ").concat(v," ").concat(p+20," ").concat(A);return{path:f,cut:!1,cutA:m,cutB:g,color:n.color}}))}},{key:"ledsUpdate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.enabled){e.next=9;break}return e.next=3,f(500);case 3:if(this.enabled){e.next=5;break}return e.abrupt("return");case 5:this.led1.on=!this.led1.on,this.led2.on=!this.led2.on,e.next=0;break;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cutWire",value:function(e){if(this.current_code+=e,console.log(this.current_code),this.wires[e].cut=!0,this.code===this.current_code)return this.led1.on=!1,this.led2.on=!1,this.enabled=!1,void this.$emit("success");for(var t=!0,n=0;n<this.current_code.length;n++)this.code[n]!==this.current_code[n]&&(t=!1);t||this.show_failure()}},{key:"show_failure",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.enabled=!1,this.led1.on=!0,this.led2.on=!0,t=200;case 4:if(!(t>20)){e.next=12;break}return e.next=7,f(t);case 7:this.led1.on=!this.led1.on,this.led2.on=!this.led2.on;case 9:t-=10,e.next=4;break;case 12:this.led1.on=!0,this.led2.on=!0,this.$emit("failure");case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"CONTENT_HEIGHT",get:function(){var e=Math.max(this.layout.connectorsA.length,this.layout.connectorsB.length);return(this.CONNECTOR_MARGIN+this.CONNECTOR_SIZE)*e+this.CONNECTOR_MARGIN}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])({default:Xe})],Ye.prototype,"layout",void 0),Object(P["__decorate"])([Object(U["b"])({default:"012"})],Ye.prototype,"code",void 0),Ye=Object(P["__decorate"])([Object(U["a"])({components:{}})],Ye);var $e=Ye,We=$e,qe=(n("17ae"),Object(L["a"])(We,Le,Fe,!1,null,"8dc552d8",null)),Ze=qe.exports,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hints"},[n("ModalVue",{on:{close:e.close}},[n("div",{staticClass:"box"},[e._v(" Hints ")])])],1)},tt=[],nt=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.$emit("close")}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],nt.prototype,"hints",void 0),nt=Object(P["__decorate"])([Object(U["a"])({components:{ModalVue:me}})],nt);var at=nt,rt=at,ot=Object(L["a"])(rt,et,tt,!1,null,"8b83c39e",null),it=ot.exports,st=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.modal_hints=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){}},{key:"success",value:function(){this.puzzle.solveEvent()}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],st.prototype,"puzzle",void 0),st=Object(P["__decorate"])([Object(U["a"])({components:{KeypadVue:ze,CombinationLockVue:Te,WirecutVue:Ze,HintsVue:it}})],st);var ct=st,ut=ct,lt=(n("8eb2"),Object(L["a"])(ut,xe,Be,!1,null,"783b0a8f",null)),dt=lt.exports,ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"button",on:{click:function(t){return t.preventDefault(),e.click(t)}}},[e._v(" "+e._s(e.button.text)+" ")])},pt=[],At=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"click",value:function(){this.button.click(!1)}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],At.prototype,"button",void 0),At=Object(P["__decorate"])([Object(U["a"])({components:{}})],At);var ht=At,vt=ht,mt=Object(L["a"])(vt,ft,pt,!1,null,"e0a57db6",null),gt=mt.exports,_t=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.loaded=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){this.waitLoad()}},{key:"waitLoad",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.room.preload();case 2:this.loaded=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],_t.prototype,"room",void 0),_t=Object(P["__decorate"])([Object(U["a"])({components:{ImageVue:we,PuzzleVue:dt,ButtonVue:gt}})],_t);var bt=_t,yt=bt,jt=(n("dc8c"),Object(L["a"])(yt,oe,ie,!1,null,"2bfd2b48",null)),kt=jt.exports,Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"buttons-bar"},[n("div",{staticClass:"buttons has-addons is-centered"},[n("div",[n("button",{staticClass:"button",on:{click:function(t){e.show_rooms=!e.show_rooms}}},[e._m(0),n("span",[e._v(" Lugares ")])]),e.show_rooms?n("PopoverVue",{on:{close:function(t){e.show_rooms=!1}}},[n("RoomListVue",{attrs:{game:e.game},on:{change:function(t){e.show_rooms=!1}}})],1):e._e()],1)])])},Et=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon"},[n("i",{staticClass:"far fa-map"})])}],Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",{staticClass:"title"},[e._v("Lugares")]),n("ul",[e._l(e.game.rooms,(function(t){return["open"===t.status?n("li",{key:t.name},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.changeRoom(t)}}},[e._v(e._s(t.name))]),t.name===e.game.current_room.name?n("span",[e._v(" <--- Estás aquí ")]):e._e()]):e._e()]}))],2)])},wt=[],xt=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"changeRoom",value:function(e){this.game.changeRoom(e),this.$emit("change")}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],xt.prototype,"game",void 0),xt=Object(P["__decorate"])([Object(U["a"])({components:{}})],xt);var Bt=xt,Rt=Bt,It=Object(L["a"])(Rt,Ct,wt,!1,null,"4df872ad",null),Qt=It.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"popover"},[n("div",{staticClass:"popover-arrow"}),n("div",{staticClass:"popover-background",on:{click:e.close}}),n("div",{staticClass:"popover-content"},[e._t("default")],2)])},St=[],Nt=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.$emit("close")}}]),n}(U["c"]);Nt=Object(P["__decorate"])([Object(U["a"])({components:{}})],Nt);var Dt=Nt,zt=Dt,Jt=(n("9275"),Object(L["a"])(zt,Mt,St,!1,null,"1d7218a9",null)),Kt=Jt.exports,Pt=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.show_rooms=!1,e.show_inventory=!1,e}return n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],Pt.prototype,"game",void 0),Pt=Object(P["__decorate"])([Object(U["a"])({components:{RoomListVue:Qt,ModalVue:me,PopoverVue:Kt}})],Pt);var Ut=Pt,Gt=Ut,Vt=(n("a2bb"),Object(L["a"])(Gt,Ot,Et,!1,null,"44fd6c99",null)),Tt=Vt.exports,Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mesage"},[n("ModalVue",{on:{close:e.close}},[n("div",{staticClass:"box"},e._l(e.message.content,(function(t,a){return n("p",{key:a},[e._v(" "+e._s(t)+" ")])})),0)])],1)},Ft=[],Ht=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.$emit("close")}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],Ht.prototype,"message",void 0),Ht=Object(P["__decorate"])([Object(U["a"])({components:{ModalVue:me}})],Ht);var Xt=Ht,Yt=Xt,$t=Object(L["a"])(Yt,Lt,Ft,!1,null,"51024c8c",null),Wt=$t.exports,qt=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.message=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=this;I.onMessage((function(t){e.message=t}))}},{key:"destroyed",value:function(){this.game.multiplayer&&this.game.multiplayer.disconnect()}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["b"])()],qt.prototype,"game",void 0),qt=Object(P["__decorate"])([Object(U["a"])({components:{TopbarVue:re,RoomVue:kt,ButtonsVue:Tt,MessageVue:Wt}})],qt);var Zt=qt,en=Zt,tn=(n("784a"),Object(L["a"])(en,$,W,!1,null,"08805aea",null)),nn=tn.exports,an=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"puzzle-test"},[n("div",[n("h1",[e._v("Tests")]),n("div",[n("WirecutVue")],1),n("div",[n("CombinationLockVue")],1),n("div",[n("KeypadVue")],1),n("div",[n("KeypadVue",{attrs:{layout:e.keypad2_layout,code:"ABCD"}})],1),n("div",[n("KeypadVue",{attrs:{layout:e.keypad2_layout,code:"ABCD",font:"wizardspeak"}})],1)])])},rn=[],on=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.keypad2_layout=[["A","B","C","D","E"],["X","Y","Z","","clear"]],e}return Object(s["a"])(n,[{key:"mounted",value:function(){}}]),n}(U["c"]);on=Object(P["__decorate"])([Object(U["a"])({components:{KeypadVue:ze,CombinationLockVue:Te,WirecutVue:Ze}})],on);var sn=on,cn=sn,un=(n("e8b8"),Object(L["a"])(cn,an,rn,!1,null,"0d6fff03",null)),ln=un.exports,dn=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.loaded=!1,e.game=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){this.waitLoad()}},{key:"waitLoad",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.preloadFolder("fonts");case 2:return e.next=4,m.preloadFolder("base");case 4:return e.next=6,m.preloadFolder("puzzles");case 6:return this.loaded=!0,e.next=9,R.current();case 9:this.game=e.sent;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(U["c"]);dn=Object(P["__decorate"])([Object(U["a"])({components:{GameVue:nn,PuzzleTestVue:ln}})],dn);var fn=dn,pn=fn,An=(n("b008"),Object(L["a"])(pn,X,Y,!1,null,null,null)),hn=An.exports,vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{loaded:e.loaded},attrs:{id:"app"}},[e.loaded?[n("section",{staticClass:"section"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"title is-1"},[e._v("Multiplayer game")]),n("h2",{staticClass:"subtitle"},[e._v(" Sala de espera multijugador ")]),n("p",[e._v(" Nombre del jugador "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.my_name,expression:"my_name"}],attrs:{type:"text"},domProps:{value:e.my_name},on:{input:function(t){t.target.composing||(e.my_name=t.target.value)}}})]),e.multiplayer?n("p",[e._v(" Game: "),n("tt",[e._v(e._s(e.multiplayer.game_id))]),e._v(" "),n("br"),e._v(" Link para unirse"),n("br"),e._v(" "+e._s(e.join_url)+" "),n("button",{staticClass:"button",on:{click:e.copy}},[e._v(" C ")]),n("br"),e._v(" Jugadores ( "+e._s(e.user_list.length)+" ) "),n("ul",e._l(e.user_list,(function(t,a){return n("li",{key:a},[e._v(" "+e._s(a+1)+") "+e._s(t.name)+" "+e._s(t.ready?"- Listo":"")+" ")])})),0)],1):n("p",[e._v(" Connectando al servidor ... ")]),n("p",[e._v(" Chat: ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.chat,expression:"chat"}],staticStyle:{height:"100px",width:"200px"},attrs:{disabled:""},domProps:{value:e.chat},on:{input:function(t){t.target.composing||(e.chat=t.target.value)}}}),e._v(" "),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.chat_line,expression:"chat_line"}],attrs:{type:"text"},domProps:{value:e.chat_line},on:{input:function(t){t.target.composing||(e.chat_line=t.target.value)}}}),e._v(" "),n("br"),n("button",{staticClass:"button",on:{click:e.chat_send}},[e._v("Enviar")]),n("br"),n("button",{staticClass:"button",attrs:{disabled:e.ready_error,title:e.ready_error},on:{click:e.onReady}},[e._v("Listo")]),e._m(0)])])]:e._e()],2)},mn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"level is-mobile"},[n("div",{staticClass:"level-item"},[e._v(" ???? ")]),n("div",{staticClass:"level-item"},[e._v(" ???? ")]),n("div",{staticClass:"level-item"},[e._v(" ???? ")]),n("div",{staticClass:"level-item"},[e._v(" ???? ")])])}],gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"buttons-bar"},[n("img",{attrs:{src:e.avatar}}),n("a",{attrs:{href:"@"},on:{click:function(t){return t.preventDefault(),e.prev(t)}}},[e._v("Prev")]),n("a",{attrs:{href:"@"},on:{click:function(t){return t.preventDefault(),e.next(t)}}},[e._v("Next")])])},_n=[],bn=["sherlock","watson","poirot","marple","mulder","scully","olivia","walter","george","nico"],yn=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.avatars=[],e.current=0,e}return Object(s["a"])(a,[{key:"mounted",value:function(){this.avatars=bn.map((function(e){return n("74e8")("./".concat(e,"_256.png"))}))}},{key:"prev",value:function(){var e=this.avatars.length;this.current=(this.current+e-1)%e}},{key:"next",value:function(){var e=this.avatars.length;this.current=(this.current+1)%e}},{key:"avatar",get:function(){return this.avatars[this.current]}}]),a}(U["c"]);yn=Object(P["__decorate"])([Object(U["a"])({components:{}})],yn);var jn=yn,kn=jn,On=(n("3179"),Object(L["a"])(kn,gn,_n,!1,null,"0a755026",null)),En=On.exports,Cn=n("d382"),wn=n("f904"),xn=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.loaded=!1,e.multiplayer=null,e.join_url="",e.user_list=[],e.my_name="",e.chat="",e.chat_line="",e}return Object(s["a"])(n,[{key:"mounted",value:function(){console.log("mounted"),this.waitLoad();var e=this.$route.params.game_id;e?this.join_game(e):this.create_game()}},{key:"waitLoad",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.preloadFolder("fonts");case 2:return e.next=4,m.preloadFolder("base");case 4:return e.next=6,m.preloadFolder("puzzles");case 6:return e.next=8,m.preloadFolder("avatars");case 8:this.loaded=!0;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"create_game",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new B["ClientV1"](x.SERVER),e.next=3,t.create();case 3:this.multiplayer=t,this.after_joining();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"join_game",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new B["ClientV1"](x.SERVER),e.next=3,n.join(t);case 3:this.multiplayer=n,this.after_joining();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"after_joining",value:function(){this.multiplayer.onUserData(this.update_game),this.join_url=window.location.href.split("/#/multiplayer")[0],this.join_url+="/#/multiplayer/"+this.multiplayer.game_id,this.multiplayer.on("chat",this.chat_recv),this.update_game()}},{key:"update_game",value:function(){var e=this;console.log("update game"),this.multiplayer&&(this.user_list=this.multiplayer.user_list.map((function(t,n){var a=e.multiplayer.user_data[n],r=a.name?a.name:"Sin nombre";return{name:r,ready:!!a.ready}})))}},{key:"change_name",value:function(e){this.multiplayer&&(this.multiplayer.emitUserData({name:e}),this.update_game())}},{key:"onReady",value:function(){console.log("click ready"),this.multiplayer.emitUserData({ready:!0}),this.update_game()}},{key:"chat_send",value:function(){if(this.chat_line){var e=this.my_name+": "+this.chat_line;this.chat_line="",this.multiplayer.emit("chat",e),this.chat+=e+"\n"}}},{key:"chat_recv",value:function(e){this.chat+=e+"\n"}},{key:"destroyed",value:function(){console.log("Bye bye"),this.multiplayer&&this.multiplayer.disconnect()}},{key:"check_start",value:function(){var e,t=0,n=Object(a["a"])(this.user_list);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.ready&&t++}}catch(o){n.e(o)}finally{n.f()}t===this.user_list.length&&(console.log("all ready"),this.start_game())}},{key:"start_game",value:function(){var e=R.new("escape01");e.join(this.multiplayer),this.multiplayer.offUserData(this.update_game),this.multiplayer.off("chat",this.chat_recv),this.multiplayer=null,this.$router.push("/game")}},{key:"copy",value:function(){wn(this.join_url,{debug:!0,message:"Pulsa #{key} para copiar",format:"text/plain",onCopy:function(){console.log("Copied")}})}},{key:"ready_error",get:function(){return this.my_name?null:"Nombre vacío"}}]),n}(U["c"]);Object(P["__decorate"])([Object(U["d"])("my_name"),Object(Cn["Debounce"])(200)],xn.prototype,"change_name",null),Object(P["__decorate"])([Object(U["d"])("user_list",{deep:!0})],xn.prototype,"check_start",null),xn=Object(P["__decorate"])([Object(U["a"])({components:{AvatarSelectorVue:En}})],xn);var Bn=xn,Rn=Bn,In=(n("a8b3"),Object(L["a"])(Rn,vn,mn,!1,null,null,null)),Qn=In.exports;S["a"].use(z.a),S["a"].use(N["a"]);var Mn=[{path:"/",component:H},{path:"/game",name:"game",component:hn},{path:"/multiplayer",component:Qn},{path:"/multiplayer/:game_id",component:Qn}],Sn=new N["a"]({routes:Mn});S["a"].config.productionTip=!1,new S["a"]({router:Sn}).$mount("#app")},cfdc:function(e,t,n){"use strict";var a=n("8cf4"),r=n.n(a);r.a},d3a4:function(e,t,n){e.exports=n.p+"img/olivia_256.2d2aedf6.png"},d945:function(e,t,n){},dc8c:function(e,t,n){"use strict";var a=n("61c9"),r=n.n(a);r.a},e3f4:function(e,t,n){},e8b8:function(e,t,n){"use strict";var a=n("ee0d"),r=n.n(a);r.a},ec79:function(e,t,n){},ee0d:function(e,t,n){},ee15:function(e,t,n){"use strict";var a=n("bfdd"),r=n.n(a);r.a},f166:function(e,t,n){e.exports=n.p+"img/logo.d6ddf9af.svg"},f2dc:function(e,t,n){e.exports=n.p+"img/room01_bookB.da194200.png"},f3fd:function(e,t,n){e.exports=n.p+"img/nico_256.61326ac3.png"},f659:function(e,t,n){},f732:function(e,t,n){},feac:function(e,t,n){"use strict";var a=n("2383"),r=n.n(a);r.a}});
//# sourceMappingURL=app.d54eae60.js.map